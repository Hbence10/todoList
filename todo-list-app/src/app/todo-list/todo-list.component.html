<main class="todo-container">
  <div class="addTask">
    <input [(ngModel)]="newTask" placeholder="Enter new task">
    <button (click)="addTask()">Add</button>
  </div>

  <ul class="taskList">
    <li *ngFor="let todoItem of todoList" [ngClass]="{ 'completed': todoItem.completed }">
      <input
        type="checkbox"
        [(ngModel)]="todoItem.completed"
        (change)="toggleCompleted()"
      >

      <!-- The ng-container directive is used to group elements without adding extra nodes to the DOM. -->
      <!-- It gets rendered when the `editingId` matches the current todoItem's id. -->
      <!-- Otherwise, the `taskDisplay` template is rendered. -->
      <ng-container *ngIf="editingId === todoItem.id; else taskDisplay">
        <input [(ngModel)]="editedTask" />
        <button (click)="saveTask(todoItem.id)">Save</button>
        <button (click)="cancelEdit()">Cancel</button>
      </ng-container>

      <!-- The taskDisplay template is used to show the task details and action buttons when not in edit mode. -->
      <ng-template #taskDisplay>
        <span>{{ todoItem.task }}</span>
        <button (click)="editTask(todoItem.id)">Edit</button>
        <button (click)="deleteTask(todoItem.id)">Delete</button>
      </ng-template>
    </li>
  </ul>
</main>
